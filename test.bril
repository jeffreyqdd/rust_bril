
@xor(a: int, b: int): int {
    v_two: int = const 2;
    result: int = const 0;
    place: int = const 1;
    
.loop_start:
    v0: int = const 0;
    v1: bool = eq a v0;
    v2: bool = eq b v0;
    v3: bool = and v1 v2;
    br v3 .loop_end .loop_body;

.loop_body:
    v_a1: int = div a v_two;
    v_a1: int = mul v_two v_a1;
    v_a1: int = sub a v_a1;
    
    v_b1: int = div b v_two;
    v_b1: int = mul v_two v_b1;
    v_b1: int = sub b v_b1;

    v_s: int = add v_a1 v_b1;
    
    v_x: int = div v_s v_two;
    v_x: int = mul v_two v_x;
    v_x: int = sub v_s v_x;

    tmp: int = mul place v_x;
    result: int = add result tmp;

    a: int = div a v_two;
    b: int = div b v_two;

    place: int = mul place v_two;
    jmp .loop_start;
.loop_end:
    ret result;
}